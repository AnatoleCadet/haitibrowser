 <html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Language" content="en-us" />
    <title>Haiti Crisis Map</title>
    <meta name="description" content=" " />
    <meta name="keywords" content=" " />
    <meta name="robots" content="index, follow" /> 
    <link rel="shortcut icon" href="/media/images/favicon.ico" />

    <link href="./css/haiti.css" rel="stylesheet" media="screen" type="text/css" />
    
    <script type="text/javascript" src="http://extjs.cachefly.net/builds/ext-cdn-2060.js"></script>
    <link rel="stylesheet" type="text/css" href="http://extjs.cachefly.net/ext-2.3.0/resources/css/ext-all.css" />
    <script type="text/javascript" src="http://openlayers.org/api/2.8/OpenLayers.js"></script> 
    <script type="text/javascript" src="http://dev.geoext.org/trunk/geoext/lib/GeoExt.js"></script> 
    <script type="text/javascript" src="js/usng2.js"></script> 
    <script type="text/javascript" src="js/MP.js"></script> 
    <script type="text/javascript" src="js/Click.js"></script> 

    <!link rel="stylesheet" type="text/css" href="/media/css/nms_ol.css" /> 
    
    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAjpkAC9ePGem0lIq5XcMiuhR47L9og-HSYk0UoXCUW6-5fDOYwxSxq7h8RIm-n4C3Nw6W
toGeRVUtow"></script>


    <script type="text/javascript">
           var base_wms = 'http://hypercube.telascience.org/cgi-bin/mapserv?map=/home/racicot/haiti/mapfiles/basedata.map&';
    </script>

    <script type="text/javascript" src="./js/haiti.js"></script> 

    <script type="text/javascript">
      function setMapCenter() {
        if (!HAITI.map.getCenter() || HAITI.map.getCenter().lon == 0) {
          HAITI.map.setCenter(new OpenLayers.LonLat(-72.2, 19.0).transform(new OpenLayers.Projection("EPSG:4326"),
                          new OpenLayers.Projection("EPSG:900913")),9);
        }                  
      }

      function osmGaz (search) {
          var s = document.createElement("script");
          s.src="http://nominatim.openstreetmap.org/haiti/?viewbox=-76.24%2C21%2C-69.2%2C17&format=json&json_callback=handleOsmLoc&q="+encodeURIComponent(search);
          document.body.appendChild(s);
      }
      function handleOsmLoc(data) {
          if (data.length) {
          var go = confirm("Zoom to " + data[0].display_name + " (" + data[0].lon + ", " + data[0].lat +")?");
              if (go) {
                  var lonlat = new OpenLayers.LonLat(data[0].lon, data[0].lat);
                  lonlat.transform(HAITI.map.displayProjection, HAITI.map.getProjectionObject());
                  var zoom = HAITI.map.getZoom() > 15 ? HAITI.map.getZoom() : 15;
                  HAITI.map.setCenter(lonlat, zoom);
              }     
          } else {
              alert("No search results found");
          } 
      }

    </script> 


    
    

  </head>
  
  <body >

    
        <div id="title" class="title1" align="center">
        </div>
        <div id="contrib-div"></div>
        <div id="mappanel"></div>
        <div id="tree"></div>
        <div id="west"></div>
        <div id="west-panel"></div>
        <div id="description"></div>
	<div id="query-win" class="x-hidden">
        <div class="x-window-header">Query Results</div>
        <div id="query-tree">
        </div>
        </div>
        <div id="address_div" style="display: none">
    Address: <input type="text" id="address" /><input type="submit" onclick="osmGaz($('address').value); return false;" onsubmit="osmGaz($('address').value); return false;" value="Show Location"/>(Powered by OSM.)
        </div>



</body>
</html>

